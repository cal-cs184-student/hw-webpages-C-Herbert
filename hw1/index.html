<html>
	<head>
		<script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=default'></script>
		<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
		<style>
			h1 {
				text-align: center;
			}

			.container {
				margin: 0 auto;
				padding: 60px 20%;
			}

			figure {
				text-align: center;
			}

			img {
				display: inline-block;
			}

			body {
				font-family: 'Inter', sans-serif;
			}
		</style>
	</head>
	<body>
		<div class="container">
		<h1>CS184/284A Spring 2025 Homework 1 Write-Up</h1>
		<div style="text-align: center;">Name: Charlie Herbert </div>

		<br>

		Link to webpage: (TODO) <a href="https://cal-cs184-student.github.io/hw-webpages-C-Herbert/">cal-cs184-student.github.io/hw-webpages-C-Herbert</a>
		
		<br>

		Link to GitHub repository: (TODO) <a href="https://github.com/cal-cs184-student/hw-webpages-C-Herbert">github.com/cal-cs184-student/hw-webpages-C-Herbert</a>

		<figure>
			<img src="lion.jpg" alt="Lion" style="width:50%"/>
			<figcaption>You can add images with captions!</figcaption>
		</figure>

		<!--
		We've already added one heading per task, to make your write-up as navigable when grading. Please fit your write-up within these sections!
		-->

		<h2>Overview</h2>
		Give a high-level overview of what you implemented in this homework. Think about what you've built as a whole. Share your thoughts on what interesting things you've learned from completing the homework.
        
        <p>
        This homework involved implementing several useful features for rendering triangles to the screen. 
        These include rasterization, barycentric color interpolation, several texture sampling techniques, and texture mipmap levels. 
        Together, these features allow us to draw textured triangles at any scale while minimizing sampling artifacts. 
        Additionally, rotation, translation, and scaling matricies were implemented with homogenous coordinates to allow for easy manipulation of triangles.
        </p>

        <p>
        While completing this assignment I... (interesting things here)
        </p>


		<h2>Task 1: Drawing Single-Color Triangles</h2>
		Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.

		<p>Here is an example 2x2 gridlike structure using an HTML table. Each <b>tr</b> is a row and each <b>td</b> is a column in that row. You might find this useful for framing and showing your result images in an organized fashion.</p>
		<div style="display: flex; flex-direction: column; align-items: center;">
			<table style="width: 100%; text-align: center; border-collapse: collapse;">
			  <tr>
				<td style="text-align: center;">
				  <img src="lion.jpg" width="400px"/>
				  <figcaption>Caption goes here.</figcaption>
				</td>
				<td style="text-align: center;">
				  <img src="lion.jpg" width="400px"/>
				  <figcaption>Caption goes here.</figcaption>
				</td>
			  </tr>
			  <tr>
				<td style="text-align: center;">
				  <img src="lion.jpg" width="400px"/>
				  <figcaption>Caption goes here.</figcaption>
				</td>
				<td style="text-align: center;">
				  <img src="lion.jpg" width="400px"/>
				  <figcaption>Caption goes here.</figcaption>
				</td>
			  </tr>
			</table>
		</div>
		
		<h2>Task 2: Antialiasing by Supersampling</h2>
        <p>
            While the previous rasterization algorithm does a decent job of rendering the triangle's shape, there are notable sampling artifacts.
            These artifacts occur as a result of our sampling frequency being too low to properly capture the high-frequency boundries of the triangle.
            In some cases, such as long, thin triangles, we fail to draw anything at all, resulting in disconnected or greatly shortened triangles.
            Since we can't produce physical pixels with infinite resolution, we must instead improve our sampling algorithm.
            To do this, we'll use antialiasing via supersampling, which will approximate limiting the maximum frequency in our image to a value we can render.
        </p>
        <p>
            First, to support antialiasing by supersampling, we need to adjust how the program's sample buffer stores information. 
            Whenever we set the sample rate of the program, we should also set the size of the sample buffer to be equal to \(width_{screen} * height_{screen} * s_{rate}\), where \(width_{screen}, height_{screen}\) are the screen's pixel dimensions, and \(s_{rate}\) is the supersampling rate we'll be using.
            This ensures that we have \(s_{rate}\) color slots to write to for each pixel, which is sufficient to store our supersampled data.
        </p>
		<p>
            Implementing supersampling requires some small modifications to the rasterization algorithm itself. 
            Before iterating over the pixels of the triangle, my implementation precomputes 3 values that are used for every the supersample position calculation.
            These are the "sample dimension", which is simply the number samples along a single axis, the "sample step", and the "half step".
            The sample step is calculated as 1 divided by 1 plus the sample dimension, since we want all of our supersample positions to be within the pixel we are sampling.
            The half step is simply half the sample step, and is used as a constant offset applied to all supersampling operations.
        </p>
        <p>
            The pixel positions of the triangle are iterated over as in the standard rasterization process.
            However, instead of checking if just the center of the pixel is in the triangle, we iterate over and check each of the super sample positions within the pixel.
            For simplicity, the iteration over the supersamples is done with as a nested pair of for loops, with one for each axis.
            Using the counter variables of each loop, we can calculate the super sample position as follows:
            \[ (x + x_s * s_{step} + s_{hs},  y + y_s * s_{step} + s_{hs} ) \]
            Where \(x,y\) are the initial pixel coordinates from rasterizing, \(x_s,y_s\) are the loop indicies for their respective axes, and \(s_{step},s_{hs}\) are the precomputed step and half step values.
            After performing the same 'in triangle' check as before, the appropriate color is written to the sample buffer.
            The supersample's index in the buffer is calculated as \( (x + y * width_{screen}) * s_{rate} + x_s + floor(s_{dim}) * y_s \),
            where \(s_{rate}\) is the sample rate provided by the program, and \(s_{dim}\) is the precomputed sample dimension.
        </p>
        <p>
            Finally, when drawing a pixel, the results of this supersampling process are applied by averaging supersampled color values for that pixel to produce an overall color. Note that this means we average a total of \(s_{rate}\) colors for each pixel drawn to the screen.
        </p>

		<h2>Task 3: Transforms</h2>
        <p>
            For this task, I was initially trying to pose the robot so that it was hanging from the top of the frame, like monkey bars. 
            Though, it ended up looking like the robot was sort of jumping, which I also liked. 
            I also changed the colors to blue and gold, since that seemed much more appropriate than red.
        </p>
        
        <img src="robot.png" alt="Jumping Robot" style="width:50%"/>

		<h2>Task 4: Barycentric coordinates</h2>
        <p>
        Barycentric coordinates are a coordinate system which allows us to represent any arbitrary point as a linear combination of 3 other points, forming a triangle. This is useful for interpolating values like color across the surface of a triangle, as well as switching between screen and texture space sample coordinates. To demonstrate barycentric coordinates, we have the following image:
        </p>
        (IMG)
        <p>
        In this triangle, we have a red, green, and blue corner. If we treat the 'proportion' of each corner in the samples' barycentric coordinates as the respective red, green, and blue values of the sample, we get the above image. With this understanding, it is clear that every sample location inside the triangle is some combination of the three corner positions.
        </p>

		<h2>Task 5: "Pixel sampling" for texture mapping</h2>
		Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.

		<h2>Task 6: "Level Sampling" with mipmaps for texture mapping</h2>
		Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.

		<h2>(Optional) Task 7: Extra Credit - Draw Something Creative!</h2>
		Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.

		<h2>Additional Notes (please remove)</h2>
		<ul>
			<li>You can also add code if you'd like as so: <code>code code code</code></li>
			<li>If you'd like to add math equations, 
				<ul>
					<li>You can write inline equations like so: \( a^2 + b^2 = c^2 \)</li>
					<li>You can write display equations like so: \[ a^2 + b^2 = c^2 \]</li>
				</ul>
			</li>
		</ul>
		</div>
	</body>
</html>